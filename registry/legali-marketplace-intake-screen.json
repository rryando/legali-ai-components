{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "legali-marketplace-intake-screen",
  "type": "registry:ui",
  "files": [
    {
      "path": "components/ui/legali/screens/MarketplaceIntakeScreen.tsx",
      "content": "/**\n * @see {@link https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-marketplace-intake-screen.json} â€” Install:\n * @example npx shadcn@latest add \"https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-marketplace-intake-screen.json\"\n */\nimport { AnimatePresence, motion } from \"motion/react\";\nimport { forwardRef, useCallback, useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { StepIndicator } from \"../atomic/StepIndicator\";\nimport { CaseUnderstandingCard } from \"../composite/CaseUnderstandingCard\";\nimport { IntakeChatPanel } from \"../composite/IntakeChatPanel\";\nimport type {\n  CaseDetails,\n  ChatMessage,\n  ContactInfo,\n  IntakeChatScriptStep,\n} from \"../data/marketplace-types\";\n\nexport type MarketplaceIntakeScreenProps = {\n  script: IntakeChatScriptStep[];\n  caseDetails: CaseDetails;\n  onConfirmCase?: (caseDetails: CaseDetails) => void;\n  className?: string;\n};\n\nconst STEPS = [\n  { label: \"Intake\" },\n  { label: \"Matching\" },\n  { label: \"Consultation\" },\n  { label: \"Receipt\" },\n];\n\nconst MarketplaceIntakeScreen = forwardRef<HTMLDivElement, MarketplaceIntakeScreenProps>(\n  ({ className, script, caseDetails, onConfirmCase }, ref) => {\n    const [showUnderstanding, setShowUnderstanding] = useState(false);\n    const [contactInfo, setContactInfo] = useState<ContactInfo | null>(null);\n\n    const handleChatComplete = useCallback((_messages: ChatMessage[], info: ContactInfo | null) => {\n      if (info) setContactInfo(info);\n      setShowUnderstanding(true);\n    }, []);\n\n    const handleConfirm = useCallback(() => {\n      const finalCase: CaseDetails = {\n        ...caseDetails,\n        contactInfo: contactInfo ?? caseDetails.contactInfo,\n      };\n      onConfirmCase?.(finalCase);\n    }, [caseDetails, contactInfo, onConfirmCase]);\n\n    return (\n      <div\n        className={cn(\n          \"relative flex min-h-screen flex-col items-center bg-gradient-to-br from-sky-50 via-blue-50 to-white px-4 py-8\",\n          className\n        )}\n        ref={ref}\n      >\n        <div className=\"pointer-events-none absolute top-[-10%] right-[-10%] h-[500px] w-[500px] animate-pulse rounded-full bg-sky-200/30 blur-3xl\" />\n        <div className=\"pointer-events-none absolute bottom-[-10%] left-[-10%] h-[400px] w-[400px] animate-pulse rounded-full bg-blue-200/30 blur-3xl\" />\n\n        <div className=\"relative z-10 w-full max-w-2xl\">\n          <div className=\"mb-6 flex justify-center\">\n            <StepIndicator currentStep={0} steps={STEPS} />\n          </div>\n\n          <IntakeChatPanel onComplete={handleChatComplete} script={script} />\n\n          <AnimatePresence>\n            {showUnderstanding && (\n              <motion.div\n                animate={{ opacity: 1, y: 0 }}\n                className=\"mt-6\"\n                exit={{ opacity: 0, y: 20 }}\n                initial={{ opacity: 0, y: 20 }}\n              >\n                <CaseUnderstandingCard\n                  caseDetails={caseDetails}\n                  onConfirm={handleConfirm}\n                  onEdit={() => setShowUnderstanding(false)}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n    );\n  }\n);\n\nMarketplaceIntakeScreen.displayName = \"MarketplaceIntakeScreen\";\n\nexport { MarketplaceIntakeScreen };\n",
      "type": "registry:ui"
    }
  ],
  "dependencies": [
    "motion"
  ],
  "registryDependencies": [
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-lib-utils.json",
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-step-indicator.json",
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-case-understanding-card.json",
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-intake-chat-panel.json",
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-marketplace-types.json"
  ]
}