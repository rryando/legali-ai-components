{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "legali-voice-input-button",
  "type": "registry:ui",
  "files": [
    {
      "path": "components/ui/legali/atomic/VoiceInputButton.tsx",
      "content": "/**\n * @see {@link https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-voice-input-button.json} â€” Install:\n * @example npx shadcn@latest add \"https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-voice-input-button.json\"\n */\nimport { Mic } from \"lucide-react\";\nimport type { MouseEvent } from \"react\";\nimport { forwardRef, useCallback, useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype VoiceInputButtonProps = {\n  /** Whether voice input is currently active */\n  isListening?: boolean;\n  /** Callback when button is clicked */\n  onToggle?: (isListening: boolean) => void;\n  /** Primary color for active state */\n  activeColor?: string;\n  /** Size of the button */\n  size?: \"sm\" | \"md\" | \"lg\";\n  /** Additional CSS classes */\n  className?: string;\n};\n\n/**\n * Microphone button with waveform animation when active.\n * Shows pulsing ring and waveform bars when listening.\n *\n * @example\n * ```tsx\n * <VoiceInputButton\n *   isListening={isListening}\n *   onToggle={setIsListening}\n * />\n * ```\n */\nconst VoiceInputButton = forwardRef<HTMLButtonElement, VoiceInputButtonProps>(\n  (\n    {\n      className,\n      isListening: controlledListening,\n      onToggle,\n      activeColor = \"#4eaed0\",\n      size = \"md\",\n      ...props\n    },\n    ref\n  ) => {\n    const [internalListening, setInternalListening] = useState(false);\n    const isListening = controlledListening ?? internalListening;\n\n    const handleClick = useCallback(\n      (e: MouseEvent<HTMLButtonElement>) => {\n        e.preventDefault();\n        const newState = !isListening;\n        setInternalListening(newState);\n        onToggle?.(newState);\n      },\n      [isListening, onToggle]\n    );\n\n    const sizeClasses = {\n      sm: \"h-8 w-8\",\n      md: \"h-10 w-10\",\n      lg: \"h-12 w-12\",\n    };\n\n    const iconSizes = {\n      sm: \"h-4 w-4\",\n      md: \"h-5 w-5\",\n      lg: \"h-6 w-6\",\n    };\n\n    return (\n      <button\n        className={cn(\n          \"relative flex items-center justify-center rounded-full\",\n          \"bg-slate-100 transition-all duration-300\",\n          \"hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2\",\n          sizeClasses[size],\n          isListening && \"bg-opacity-20\",\n          className\n        )}\n        onClick={handleClick}\n        ref={ref}\n        style={{\n          backgroundColor: isListening ? `${activeColor}20` : undefined,\n        }}\n        type=\"button\"\n        {...props}\n      >\n        {/* Pulsing ring when listening */}\n        {isListening ? (\n          <>\n            <span\n              className=\"absolute inset-0 animate-ping rounded-full opacity-30\"\n              style={{ backgroundColor: activeColor }}\n            />\n            <span\n              className=\"absolute inset-1 animate-pulse rounded-full opacity-20\"\n              style={{ backgroundColor: activeColor }}\n            />\n          </>\n        ) : null}\n\n        {/* Mic icon or waveform */}\n        {isListening ? (\n          <div className=\"relative flex items-end justify-center gap-0.5\">\n            {[\"bar-1\", \"bar-2\", \"bar-3\", \"bar-4\", \"bar-5\"].map((id, i) => (\n              <div\n                className=\"w-0.5 rounded-full\"\n                key={id}\n                style={{\n                  backgroundColor: activeColor,\n                  height: \"16px\",\n                  animation: \"waveform 0.8s ease-in-out infinite\",\n                  animationDelay: `${i * 0.1}s`,\n                }}\n              />\n            ))}\n          </div>\n        ) : (\n          <Mic className={cn(iconSizes[size], \"text-slate-600\")} />\n        )}\n\n        <style>{`\n          @keyframes waveform {\n            0%, 100% {\n              transform: scaleY(0.4);\n            }\n            50% {\n              transform: scaleY(1);\n            }\n          }\n        `}</style>\n      </button>\n    );\n  }\n);\n\nVoiceInputButton.displayName = \"VoiceInputButton\";\n\nexport { VoiceInputButton };\nexport type { VoiceInputButtonProps };\n",
      "type": "registry:ui"
    }
  ],
<<<<<<< Updated upstream
  "dependencies": ["lucide-react"],
  "registryDependencies": [
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-lib-utils.json"
  ]
}
=======
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-lib-utils.json"
  ]
}
>>>>>>> Stashed changes
