{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "legali-floating-mascot",
  "type": "registry:ui",
  "files": [
    {
      "path": "components/ui/legali/composite/FloatingMascot.tsx",
      "content": "/**\n * @see {@link https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-floating-mascot.json} â€” Install:\n * @example npx shadcn@latest add \"https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-floating-mascot.json\"\n */\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useCurrentSection, useIdleDetection } from \"../hooks/useAnimations\";\nimport { LegaliMascot, MascotMotion, type MascotMotionType } from \"../mascot/LegaliMascot\";\n\nexport interface FloatingMascotProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** List of section IDs to track */\n  sections?: string[];\n  /** Callback when section changes */\n  onSectionChange?: (section: string) => void;\n  /** Idle timeout in milliseconds */\n  idleTimeout?: number;\n  /** Size of the mascot */\n  size?: number;\n  /** Number of clicks to trigger easter egg */\n  easterEggClicks?: number;\n  /** Easter egg message text */\n  easterEggMessage?: string;\n}\n\nconst sectionMotionMap: Record<string, MascotMotionType> = {\n  hero: MascotMotion.WAVING,\n  problem: MascotMotion.THINKING,\n  features: MascotMotion.LAPTOP,\n  \"how-it-works\": MascotMotion.IDEA,\n  testimonials: MascotMotion.THUMBSUP,\n  faq: MascotMotion.READING,\n  cta: MascotMotion.CELEBRATE,\n};\n\n/**\n * A floating mascot that changes pose based on the current section.\n * Includes idle detection and easter egg functionality.\n */\nconst FloatingMascot = React.forwardRef<HTMLDivElement, FloatingMascotProps>(\n  (\n    {\n      className,\n      sections = [\"hero\", \"problem\", \"features\", \"how-it-works\", \"testimonials\", \"faq\", \"cta\"],\n      onSectionChange,\n      idleTimeout = 5000,\n      size = 80,\n      easterEggClicks = 5,\n      easterEggMessage = \"ðŸŽ‰ Yay!\",\n      ...props\n    },\n    ref\n  ) => {\n    const currentSection = useCurrentSection(sections);\n    const isIdle = useIdleDetection(idleTimeout);\n    const [clickCount, setClickCount] = React.useState(0);\n    const [showEasterEgg, setShowEasterEgg] = React.useState(false);\n\n    React.useEffect(() => {\n      if (currentSection && onSectionChange) {\n        onSectionChange(currentSection);\n      }\n    }, [currentSection, onSectionChange]);\n\n    const getMascotMotion = (): MascotMotionType => {\n      if (showEasterEgg) return MascotMotion.CELEBRATE;\n      if (isIdle) return MascotMotion.WAVING;\n\n      return sectionMotionMap[currentSection || \"hero\"] || MascotMotion.IDLE;\n    };\n\n    const handleClick = () => {\n      setClickCount((prev) => prev + 1);\n      if (clickCount >= easterEggClicks - 1) {\n        setShowEasterEgg(true);\n        setTimeout(() => {\n          setShowEasterEgg(false);\n          setClickCount(0);\n        }, 3000);\n      }\n    };\n\n    return (\n      <div\n        className={cn(\n          \"fixed right-6 bottom-6 z-40 hidden cursor-pointer transition-transform duration-300 hover:scale-110 lg:block\",\n          className\n        )}\n        onClick={handleClick}\n        ref={ref}\n        {...props}\n      >\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 rounded-full bg-gradient-to-br from-[#4eaed0]/30 to-[#764ba2]/30 blur-xl\" />\n          <LegaliMascot\n            className=\"relative z-10 drop-shadow-lg\"\n            height={size}\n            motion={getMascotMotion()}\n            width={size}\n          />\n          {showEasterEgg && (\n            <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 animate-bounce rounded-full bg-white px-3 py-1 font-bold text-[#4eaed0] text-xs shadow-lg\">\n              {easterEggMessage}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\nFloatingMascot.displayName = \"FloatingMascot\";\n\nexport { FloatingMascot };\n",
      "type": "registry:ui"
    }
  ],
  "registryDependencies": [
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-lib-utils.json",
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-hook-use-animations.json",
    "https://raw.githubusercontent.com/rryando/legali-ai-components/main/registry/legali-mascot.json"
  ]
}