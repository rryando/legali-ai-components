import{j as r}from"./jsx-runtime-BjG_zV1W.js";import{r as a}from"./index-yIsmwZOr.js";import{c as h}from"./utils-CDN07tui.js";import{Q as F}from"./QuizHeader-0WsXhAih.js";import{Q as T}from"./QuizQuestion-mmfR4AEK.js";import{Q as B}from"./QuizFeedback-CMksgjil.js";import{A as E}from"./Answer-Cm3wYL8a.js";import{B as _}from"./button-CXZ-4DRD.js";const x=a.forwardRef(({className:f,questions:o,onClose:w,onQuizComplete:g,...v},y)=>{var p;const[i,Q]=a.useState(0),[t,d]=a.useState(null),[N,j]=a.useState({}),[l,u]=a.useState(!1),[k,C]=a.useState(0),[m,b]=a.useState(!1),s=o==null?void 0:o[i];if(!s)return r.jsx("div",{className:"p-8 text-center text-slate-500",children:"No questions available."});const S=i===o.length-1,A=i/o.length*100,z=e=>{l||d(e)},I=()=>{var n;if(!t)return;((n=s.answers.find(c=>c.id===t))==null?void 0:n.correct)&&C(c=>c+1),j(c=>({...c,[s.id]:t})),u(!0),b(!0)},R=()=>{var e;S?g(k+((e=s.answers.find(n=>n.id===t))!=null&&e.correct&&!l?1:0),o.length,N):(Q(n=>n+1),d(null),u(!1),b(!1))};return r.jsxs("div",{ref:y,className:h("flex flex-col h-full min-h-screen relative overflow-hidden","bg-gradient-to-br from-sky-100 via-blue-50 to-white",f),...v,children:[r.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[600px] h-[600px] bg-sky-200/40 rounded-full blur-3xl pointer-events-none animate-pulse"}),r.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-blue-200/40 rounded-full blur-3xl pointer-events-none animate-pulse delay-700"}),r.jsx(F,{onClose:w,currentQuestion:i+1,totalQuestions:o.length,progress:A,className:"bg-white/40 backdrop-blur-md border-white/20 sticky top-0 z-10"}),r.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-8 pb-32 relative z-0",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(T,{question:s.question,questionNumber:i+1,className:"mb-8"}),r.jsx("div",{className:"space-y-3",children:s.answers.map((e,n)=>r.jsx(E,{selected:t===e.id,correct:l&&e.correct,incorrect:l&&t===e.id&&!e.correct,onClick:()=>z(e.id),disabled:l,shortcut:String.fromCharCode(65+n),className:"bg-white/60 backdrop-blur-sm border-white/40 hover:bg-white/80",children:e.text},e.id))})]})}),!m&&r.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-5 bg-white/30 backdrop-blur-xl border-t border-white/20 z-10",children:r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsx(_,{onClick:I,disabled:!t,className:h("w-full font-bold py-6 text-lg rounded-2xl shadow-xl transition-all duration-300",t?"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-500/30 hover:-translate-y-1 hover:shadow-2xl":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:"Check Answer"})})}),r.jsx(B,{show:m,correct:((p=s.answers.find(e=>e.id===t))==null?void 0:p.correct)||!1,explanation:s.explanation,onContinue:R,className:"backdrop-blur-xl bg-white/80 border-t border-white/40"})]})});x.displayName="QuizScreen";x.__docgenInfo={description:"",methods:[],displayName:"QuizScreen",props:{questions:{required:!0,tsType:{name:"Array",elements:[{name:"Question"}],raw:"Question[]"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onQuizComplete:{required:!0,tsType:{name:"signature",type:"function",raw:"(score: number, total: number, userAnswers: Record<string | number, string | number>) => void",signature:{arguments:[{type:{name:"number"},name:"score"},{type:{name:"number"},name:"total"},{type:{name:"Record",elements:[{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]}],raw:"Record<string | number, string | number>"},name:"userAnswers"}],return:{name:"void"}}},description:""}}};export{x as Q};
